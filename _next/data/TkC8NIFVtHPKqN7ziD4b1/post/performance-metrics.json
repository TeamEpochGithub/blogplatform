{"pageProps":{"post":{"title":"Performance Metrics: How to measure the success of an algorithm","excerpt":"The search for the Higgs boson, motion capture of Xbox Kinect, and exchange rate predictions for foreign currencies. What do these have in common?","featuredImage":{"url":"https://media.graphcms.com/Y2cfb7URUGsrJ3TAfIaQ"},"author":{"name":"Kerem Bayraktar","bio":"Computer scientist currently student at TU Delft.","photo":{"url":"https://media.graphcms.com/IOTagUWRP6ti05SqT0fK"}},"createdAt":"2022-03-16T15:18:10.860139+00:00","slug":"performance-metrics","content":{"raw":{"children":[{"type":"paragraph","children":[{"text":"The search for the "},{"href":"https://www.symmetrymagazine.org/article/july-2014/the-machine-learning-community-takes-on-the-higgs","type":"link","children":[{"text":"Higgs boson"}],"openInNewTab":false},{"text":", motion capture of "},{"href":"https://venturebeat.com/2011/12/12/kaggle-competition-microsoft-kinect-learn-new-gestures/","type":"link","children":[{"text":"Xbox Kinect"}],"openInNewTab":false},{"text":", and exchange rate "},{"href":"https://www.imperial.ac.uk/media/imperial-college/faculty-of-natural-sciences/department-of-mathematics/math-finance/Nielsen_Laurids-Gert_01424460.pdf","type":"link","children":[{"text":"predictions"}],"openInNewTab":false},{"text":" for foreign currencies. What do these have in common? The answer is AI competitions, in which their contestants helped with their unique solutions to raise the level for current technologies. Ranging from Netflix’s recommender system to driverless car technologies, the competitive nature of these events helped to shape the future of these breakthroughs with one quite attractive goal: to win. But what does it mean to be a true winner of an AI competition, or rather a more natural question, how can you measure the success of an algorithm? "}]},{"type":"paragraph","children":[{"text":""}]},{"src":"https://media.graphcms.com/ioMuttQaRwTdNJq3fdwZ","type":"image","title":"binaryclassification.png","width":257,"handle":"ioMuttQaRwTdNJq3fdwZ","height":239,"children":[{"text":""}],"mimeType":"image/png"},{"type":"paragraph","children":[{"text":"Example of a binary classification task, ","italic":true},{"href":"https://medium.com/@tarunnanduri/artificial-neural-networks-perceptron-85f1b7482feb","type":"link","children":[{"text":"taken from","italic":true}],"openInNewTab":false},{"text":" "}]},{"type":"paragraph","children":[{"text":"Let’s start with a simpler case of Machine Learning with binary classification, where the algorithm needs to classify the case between two classes. To make things more familiar, we can go through the example of testing for the presence of COVID-19 virus where we are trying to develop an algorithm that “guesses” whether the person has the disease or not, as a precautionary risk evaluation. We divide our problem into two basic main classes of two points of suspicion: "}]},{"type":"numbered-list","children":[{"type":"list-item","children":[{"type":"list-item-child","children":[{"text":"The person is carrying the virus."}]}]},{"type":"list-item","children":[{"type":"list-item-child","children":[{"text":"The person is not carrying the virus."}]}]}]},{"type":"paragraph","children":[{"text":"Our machine will predict with its algorithm based on several factors (what we call the “features”) such as age, gender, symptoms, blood readings etc., and classify the specific case into one of these classification classes. How would we test the effectiveness of this algorithm? "}]},{"type":"paragraph","children":[{"text":"Your first intuitive answer could be that the cases where the machine guessed it right over the total number of cases, practically calculating its accuracy percentage. This accuracy standard would not be as effective for imbalanced training datasets. If 95 of the 100 patients are positive, an algorithm that just guesses everyone as positive would be 95% accurate, although with another set of data it would be completely useless. Furthermore, this accuracy metric would overlook the importance of “right” and “wrong” answers. A COVID-positive patient that’s overlooked as negative is far more dangerous for the community than a COVID-negative patient that was mistaken as positive.  Therefore, we need to draw clear boundaries between these cases, in a structure where use the technical term Confusion Matrix to differentiate between:"}]},{"type":"paragraph","children":[{"text":"Example of a ","italic":true},{"href":"https://towardsdatascience.com/confusion-matrix-for-your-multi-class-machine-learning-model-ff9aa3bf7826","type":"link","children":[{"text":"Confusion Matrix","italic":true}],"openInNewTab":false},{"text":""}]},{"type":"bulleted-list","children":[{"type":"list-item","children":[{"type":"list-item-child","children":[{"text":"True Positive: The model "},{"bold":true,"text":"correctly"},{"text":" predicts the "},{"bold":true,"text":"positive"},{"text":" class"}]}]},{"type":"list-item","children":[{"type":"list-item-child","children":[{"text":"False Positive: The model "},{"bold":true,"text":"incorrectly"},{"text":" predicts the "},{"bold":true,"text":"positive"},{"text":" class (positive for COVID-negative person)"}]}]},{"type":"list-item","children":[{"type":"list-item-child","children":[{"text":"True Negative: The model "},{"bold":true,"text":"correctly"},{"text":" predicts the "},{"bold":true,"text":"negative"},{"text":" class"}]}]},{"type":"list-item","children":[{"type":"list-item-child","children":[{"text":"False Negative: The model "},{"bold":true,"text":"incorrectly"},{"text":" predicts the "},{"bold":true,"text":"negative"},{"text":" class (negative for COVID-positive person)"}]}]}]},{"type":"paragraph","children":[{"text":""}]},{"src":"https://media.graphcms.com/LocWPYfWSuGRaV9jF76D","type":"image","title":"precisionrecall.png","width":750,"handle":"LocWPYfWSuGRaV9jF76D","height":1364,"children":[{"text":""}],"mimeType":"image/png"},{"type":"paragraph","children":[{"text":"With the addition of these concepts, our concept of accuracy should change accordingly as well. We use two additional notions as helpers that make use of these keywords. "}]},{"type":"paragraph","children":[{"bold":true,"text":"Precision"},{"text":" measures the number of patients flagged as COVID-positive that were correctly classified to the total number of positive classifications ("},{"text":"What percentage of positive identifications were actually correct?","italic":true},{"text":"). In that sense, it helps us to determine how good the algorithm is with the guessing of the positive cases."}]},{"type":"paragraph","children":[{"text":" "},{"bold":true,"text":"Recall"},{"text":", on the other hand measures the ratio of the correctly guessed positive cases to the amount of total positive cases(What percentage of actual positives were correctly identified?). "}]},{"type":"paragraph","children":[{"text":""}]},{"src":"https://media.graphcms.com/qfInrUzVQkiKePB8LWjn","type":"image","title":"recallprecision.jpg","width":520,"handle":"qfInrUzVQkiKePB8LWjn","height":112,"children":[{"text":""}],"mimeType":"image/jpeg"},{"type":"paragraph","children":[{"text":"The distinction is that recall works with total (true) positive cases, which includes the overlooked false negatives, whereas precision is about the total (predicted) positive classifications. "}]},{"type":"paragraph","children":[{"text":"With these notions, we can use a better version of accuracy, by taking both into account. We can do this measurement with a method called "},{"href":"https://en.wikipedia.org/wiki/F-score","type":"link","children":[{"bold":true,"text":"F-score"}],"openInNewTab":false},{"text":", where we take the harmonic mean of the precision and recall so that we can take into account both of these measurements. One thing to note is that the importance of precision and recall is the same in this case. As an additional measure, it’s possible to add an offset or what we call a “real factor” β, such that recall will be considered β times as important as precision."}]},{"type":"paragraph","children":[{"text":""}]},{"src":"https://media.graphcms.com/9U12kjPQ5moB9Ig9dn8W","type":"image","title":"Fscore.jpg","width":523,"handle":"9U12kjPQ5moB9Ig9dn8W","height":55,"children":[{"text":""}],"mimeType":"image/jpeg"},{"type":"paragraph","children":[{"text":"Another way to approach the binary classification issue is the "},{"href":"https://developers.google.com/machine-learning/crash-course/classification/roc-and-auc","type":"link","children":[{"bold":true,"text":"AUC-ROC curve"}],"openInNewTab":false},{"text":". This curve depends on "},{"bold":true,"text":"True Positive Rate"},{"text":" and "},{"bold":true,"text":"False Positive Rate"},{"text":", where the former is the synonym for Recall and the latter is its counterpart. A ROC curve plots the TPR vs. FPR in practice for different classification thresholds, in order to display the different ratios with differing values. In practice, it’s a way to separate the noise from the actual accuracy. "}]},{"type":"paragraph","children":[{"text":""}]},{"src":"https://media.graphcms.com/imqq0Y3SGWpICMJkbMaL","type":"image","title":"truefalse.jpg","width":537,"handle":"imqq0Y3SGWpICMJkbMaL","height":106,"children":[{"text":""}],"mimeType":"image/jpeg"},{"type":"paragraph","children":[{"text":"However, to compute all values on the ROC curve is quite inefficient from the computational perspective, hence the need for the AUC curve, an acronym for “"},{"bold":true,"text":"Area Under the (ROC) Curve"},{"text":"”. It is a way to quantify the performance of the accumulated results across all possible thresholds by taking the integral of the ROC curve."}]},{"type":"paragraph","children":[{"text":"Example of an ","italic":true},{"href":"https://towardsdatascience.com/understanding-auc-roc-curve-68b2303cc9c5","type":"link","children":[{"text":"AUC-ROC Curve","italic":true}],"openInNewTab":false},{"text":""}]},{"type":"paragraph","children":[{"text":" In a different way, it’s the ability of the algorithm to distinguish between classes. An AUC value of 1 indicates perfect prediction whereas 0 indicates imperfect. The desirable parts of AUC-ROC are that it’s scale-invariant, and also doesn’t depend on the classification threshold. "}]},{"type":"paragraph","children":[{"text":"What about problems where the algorithm doesn’t necessarily decide per each object, but rather predicts a value by using a continuous line? We call these kinds of examples “"},{"bold":true,"text":"regression models"},{"text":"”, where it’s a way of predictive modeling with the previous data to approximate. In this case, the distance from the predicted value to the original value plays an important role as now it matters to us how “wrong” we are. A good and simple starting point is the “"},{"bold":true,"text":"Mean Absolute Error"},{"text":"”, which is the average of the difference between the expected and the original values. Unfortunately, it’s complicated to write efficient pieces of linear programming as the numbers get bigger and bigger, so the preferred way of using it is through the “"},{"bold":true,"text":"Mean Squared Error"},{"text":"”. This way, the numbers that we are dealing with are smaller and easier to compute (working with square roots instead), as well as to conserve the meaning behind the concept itself. Minimizing this is another blog’s issue, though."}]},{"type":"paragraph","children":[{"text":""}]},{"src":"https://media.graphcms.com/PothKbYQkOpnjeW0LjUp","type":"image","title":"linearregression.jpg","width":1280,"handle":"PothKbYQkOpnjeW0LjUp","height":720,"children":[{"text":""}],"mimeType":"image/jpeg"},{"type":"paragraph","children":[{"text":"Example of a ","italic":true},{"href":"https://youtu.be/zPG4NjIkCjc","type":"link","children":[{"text":"linear regression model","italic":true}],"openInNewTab":false},{"text":""}]},{"type":"paragraph","children":[{"text":"As you can see, there are plenty of ways to measure how good an algorithm is, even for the simplest versions of classifications and predictions. Therefore, it is up to the AI competition organizers to go with the one that’s the most suitable to their expectations, importance values, and the context of the problem.  Which then determines the success of the algorithm, bringing us full circle."}]},{"type":"paragraph","children":[{"text":"Sources:"}]},{"type":"paragraph","children":[{"text":""},{"href":"https://developers.google.com/machine-learning/crash-course/classification/precision-and-recall","type":"link","children":[{"text":"Precision and Recall"}],"openInNewTab":false},{"text":""}]},{"type":"paragraph","children":[{"text":""},{"href":"https://en.wikipedia.org/wiki/F-score","type":"link","children":[{"text":"F-Score"}],"openInNewTab":false},{"text":""}]},{"type":"paragraph","children":[{"text":""},{"href":"https://towardsdatascience.com/metrics-to-evaluate-your-machine-learning-algorithm-f10ba6e38234","type":"link","children":[{"text":"Performance Metrics"}],"openInNewTab":false},{"text":""}]},{"type":"paragraph","children":[{"text":""},{"href":"https://www.analyticsvidhya.com/blog/2015/08/comprehensive-guide-regression/","type":"link","children":[{"text":"Regression"}],"openInNewTab":false},{"text":""}]},{"type":"paragraph","children":[{"text":""},{"href":"https://www.science.org/doi/full/10.1126/science.331.6018.698","type":"link","children":[{"text":"Further Reading"}],"openInNewTab":false},{"text":""}]},{"type":"paragraph","children":[{"text":""}]},{"src":"https://media.graphcms.com/Po53jbTuQsKqZJOvxVii","type":"image","title":"roc-auc.png","width":1000,"handle":"Po53jbTuQsKqZJOvxVii","height":708,"children":[{"text":""}],"mimeType":"image/png"},{"type":"paragraph","children":[{"text":""}]}]}},"categories":[{"name":"Artificial Intelligence","slug":"ai"},{"name":"Life applications of AI","slug":"life-applications"}]}},"__N_SSG":true}